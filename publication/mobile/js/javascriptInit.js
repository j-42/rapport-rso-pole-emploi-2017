!function(e){"use strict";var t=null;!function r(e,n,o){function a(s,u){if(!n[s]){if(!e[s]){var l="function"==typeof t&&t;if(!u&&l)return l(s,!0);if(i)return i(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var p=n[s]={exports:{}};e[s][0].call(p.exports,function(t){var r=e[s][1][t];return a(r?r:t)},p,p.exports,r,e,n,o)}return n[s].exports}for(var i="function"==typeof t&&t,s=0;s<o.length;s++)a(o[s]);return a}({1:[function(e,t,r){(function(n,o){!function(e,n){"object"==typeof r&&"undefined"!=typeof t?t.exports=n():"function"==typeof define&&define.amd?define(n):e.ES6Promise=n()}(this,function(){function t(e){var t=typeof e;return null!==e&&("object"===t||"function"===t)}function r(e){return"function"==typeof e}function a(e){q=e}function i(e){J=e}function s(){return function(){return n.nextTick(d)}}function u(){return"undefined"!=typeof W?function(){W(d)}:p()}function l(){var e=0,t=new K(d),r=document.createTextNode("");return t.observe(r,{characterData:!0}),function(){r.data=e=++e%2}}function c(){var e=new MessageChannel;return e.port1.onmessage=d,function(){return e.port2.postMessage(0)}}function p(){var e=setTimeout;return function(){return e(d,1)}}function d(){for(var e=0;e<X;e+=2){var t=ee[e],r=ee[e+1];t(r),ee[e]=void 0,ee[e+1]=void 0}X=0}function h(){try{var t=e,r=t("vertx");return W=r.runOnLoop||r.runOnContext,u()}catch(n){return p()}}function f(e,t){var r=this,n=new this.constructor(v);void 0===n[re]&&N(n);var o=r._state;if(o){var a=arguments[o-1];J(function(){return k(o,n,a,r._result)})}else C(r,n,e,t);return n}function m(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var r=new t(v);return A(r,e),r}function v(){}function g(){return new TypeError("You cannot resolve a promise with itself")}function y(){return new TypeError("A promises callback cannot return that same promise.")}function b(e){try{return e.then}catch(t){return ie.error=t,ie}}function w(e,t,r,n){try{e.call(t,r,n)}catch(o){return o}}function M(e,t,r){J(function(e){var n=!1,o=w(r,t,function(r){n||(n=!0,t!==r?A(e,r):E(e,r))},function(t){n||(n=!0,_(e,t))},"Settle: "+(e._label||" unknown promise"));!n&&o&&(n=!0,_(e,o))},e)}function P(e,t){t._state===oe?E(e,t._result):t._state===ae?_(e,t._result):C(t,void 0,function(t){return A(e,t)},function(t){return _(e,t)})}function S(e,t,n){t.constructor===e.constructor&&n===f&&t.constructor.resolve===m?P(e,t):n===ie?(_(e,ie.error),ie.error=null):void 0===n?E(e,t):r(n)?M(e,t,n):E(e,t)}function A(e,r){e===r?_(e,g()):t(r)?S(e,r,b(r)):E(e,r)}function x(e){e._onerror&&e._onerror(e._result),O(e)}function E(e,t){e._state===ne&&(e._result=t,e._state=oe,0!==e._subscribers.length&&J(O,e))}function _(e,t){e._state===ne&&(e._state=ae,e._result=t,J(x,e))}function C(e,t,r,n){var o=e._subscribers,a=o.length;e._onerror=null,o[a]=t,o[a+oe]=r,o[a+ae]=n,0===a&&e._state&&J(O,e)}function O(e){var t=e._subscribers,r=e._state;if(0!==t.length){for(var n=void 0,o=void 0,a=e._result,i=0;i<t.length;i+=3)n=t[i],o=t[i+r],n?k(r,n,o,a):o(a);e._subscribers.length=0}}function R(){this.error=null}function j(e,t){try{return e(t)}catch(r){return se.error=r,se}}function k(e,t,n,o){var a=r(n),i=void 0,s=void 0,u=void 0,l=void 0;if(a){if(i=j(n,o),i===se?(l=!0,s=i.error,i.error=null):u=!0,t===i)return void _(t,y())}else i=o,u=!0;t._state!==ne||(a&&u?A(t,i):l?_(t,s):e===oe?E(t,i):e===ae&&_(t,i))}function T(e,t){try{t(function(t){A(e,t)},function(t){_(e,t)})}catch(r){_(e,r)}}function L(){return ue++}function N(e){e[re]=ue++,e._state=void 0,e._result=void 0,e._subscribers=[]}function I(){return new Error("Array Methods must be provided an Array")}function I(){return new Error("Array Methods must be provided an Array")}function V(e){return new le(this,e).promise}function F(e){var t=this;return new t(z(e)?function(r,n){for(var o=e.length,a=0;a<o;a++)t.resolve(e[a]).then(r,n)}:function(e,t){return t(new TypeError("You must pass an array to race."))})}function U(e){var t=this,r=new t(v);return _(r,e),r}function B(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function D(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function G(){var e=void 0;if("undefined"!=typeof o)e=o;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var r=e.Promise;if(r){var n=null;try{n=Object.prototype.toString.call(r.resolve())}catch(t){}if("[object Promise]"===n&&!r.cast)return}e.Promise=ce}var H=void 0;H=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var z=H,X=0,W=void 0,q=void 0,J=function(e,t){ee[X]=e,ee[X+1]=t,X+=2,2===X&&(q?q(d):te())},Y="undefined"!=typeof window?window:void 0,$=Y||{},K=$.MutationObserver||$.WebKitMutationObserver,Q="undefined"==typeof self&&"undefined"!=typeof n&&"[object process]"==={}.toString.call(n),Z="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,ee=new Array(1e3),te=void 0;te=Q?s():K?l():Z?c():void 0===Y&&"function"==typeof e?h():p();var re=Math.random().toString(36).substring(16),ne=void 0,oe=1,ae=2,ie=new R,se=new R,ue=0,le=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(v),this.promise[re]||N(this.promise),z(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?E(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&E(this.promise,this._result))):_(this.promise,I())}return e.prototype._enumerate=function(e){for(var t=0;this._state===ne&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var r=this._instanceConstructor,n=r.resolve;if(n===m){var o=b(e);if(o===f&&e._state!==ne)this._settledAt(e._state,t,e._result);else if("function"!=typeof o)this._remaining--,this._result[t]=e;else if(r===ce){var a=new r(v);S(a,e,o),this._willSettleAt(a,t)}else this._willSettleAt(new r(function(t){return t(e)}),t)}else this._willSettleAt(n(e),t)},e.prototype._settledAt=function(e,t,r){var n=this.promise;n._state===ne&&(this._remaining--,e===ae?_(n,r):this._result[t]=r),0===this._remaining&&E(n,this._result)},e.prototype._willSettleAt=function(e,t){var r=this;C(e,void 0,function(e){return r._settledAt(oe,t,e)},function(e){return r._settledAt(ae,t,e)})},e}(),ce=function(){function e(t){this[re]=L(),this._result=this._state=void 0,this._subscribers=[],v!==t&&("function"!=typeof t&&B(),this instanceof e?T(this,t):D())}return e.prototype["catch"]=function(e){return this.then(null,e)},e.prototype["finally"]=function(e){var t=this,r=t.constructor;return t.then(function(t){return r.resolve(e()).then(function(){return t})},function(t){return r.resolve(e()).then(function(){throw t})})},e}();return ce.prototype.then=f,ce.all=V,ce.race=F,ce.resolve=m,ce.reject=U,ce._setScheduler=a,ce._setAsap=i,ce._asap=J,ce.polyfill=G,ce.Promise=ce,ce})}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:2}],2:[function(e,t,r){function n(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(e){if(p===setTimeout)return setTimeout(e,0);if((p===n||!p)&&setTimeout)return p=setTimeout,setTimeout(e,0);try{return p(e,0)}catch(t){try{return p.call(null,e,0)}catch(t){return p.call(this,e,0)}}}function i(e){if(d===clearTimeout)return clearTimeout(e);if((d===o||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function s(){v&&f&&(v=!1,f.length?m=f.concat(m):g=-1,m.length&&u())}function u(){if(!v){var e=a(s);v=!0;for(var t=m.length;t;){for(f=m,m=[];++g<t;)f&&f[g].run();g=-1,t=m.length}f=null,v=!1,i(e)}}function l(e,t){this.fun=e,this.array=t}function c(){}var p,d,h=t.exports={};!function(){try{p="function"==typeof setTimeout?setTimeout:n}catch(e){p=n}try{d="function"==typeof clearTimeout?clearTimeout:o}catch(e){d=o}}();var f,m=[],v=!1,g=-1;h.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];m.push(new l(e,t)),1!==m.length||v||a(u)},l.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=c,h.addListener=c,h.once=c,h.off=c,h.removeListener=c,h.removeAllListeners=c,h.emit=c,h.binding=function(e){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(e){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},{}],3:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("./modulesManager/ModulesManager"),o=function(){function e(){this.moduleManager=new n["default"],this.moduleManager.init()}return e}();r.Main=o},{"./modulesManager/ModulesManager":8}],4:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("../utils/ApiEvents"),o=function(){function e(){this.routersMatch=[],this.hashParams=[],this.hashChange=this.hashChange.bind(this),this.close=this.close.bind(this),window.addEventListener("hashchange",this.hashChange,!0),this.hashChange()}return e.prototype.hashChange=function(e){var t=window.location.hash.replace(/^\#/,"");this.hashParams=t.split("&"),this.checkUpdates()},e.prototype.checkUpdates=function(){for(var e=0,t=this.routersMatch.length;e<t;e++)this.routersMatch[e].checkUpdateAsync(this.hashParams)},e.prototype.close=function(e){this.routersMatch.filter(function(t){return t!==e})},e.prototype.goTo=function(e,t){var r=new RegExp(e,"g");t&&""!==t.trim()||(r=new RegExp("\\&"+e+"|"+e,"g"),t=""),window.location.hash=window.location.hash.replace(r,t)},e.prototype.match=function(e){var t=new a(this.close,e);return this.routersMatch.push(t),t.init(this.hashParams)},e}(),a=function(){function e(e,t){this.closeFromManager=e,this.toMatch=t,this.removableListeners=[],this.lastMatched=null,this._to=this._to.bind(this),this._update=this._update.bind(this),this._leave=this._leave.bind(this),this.close=this.close.bind(this),this.apiEvents=new n.ApiEvents}return e.prototype.init=function(e){return this.checkUpdateAsync(e),this.getToNLeave()},e.prototype.checkUpdateAsync=function(e){var t=this;setTimeout(function(){return t.checkUpdate(e)},0)},e.prototype.checkUpdate=function(e){var t=new RegExp(this.toMatch,"g"),r=null,n=null;if(e.forEach(function(e){var o=e.match(t);r=null===o?null:o[0],n=n||r}),null!==n||null!==this.lastMatched){if(null===n)return this.lastMatched=null,void this.apiEvents.fire({type:"leave",data:{}});if(n!==this.lastMatched){if(null===this.lastMatched)return this.lastMatched=n,void this.apiEvents.fire({type:"to",data:{}});this.lastMatched=n,this.apiEvents.fire({type:"update",data:{}})}}},e.prototype._to=function(e){var t=this;return this.apiEvents.addListener("to",e),this.removableListeners.push(function(){t.apiEvents.removeListener("to",e)}),this.getToNLeave()},e.prototype._update=function(e){var t=this;return this.apiEvents.addListener("update",e),this.removableListeners.push(function(){t.apiEvents.removeListener("to",e)}),this.getToNLeave()},e.prototype._leave=function(e){var t=this;return this.apiEvents.addListener("leave",e),this.removableListeners.push(function(){t.apiEvents.removeListener("to",e)}),this.getToNLeave()},e.prototype.close=function(){this.removableListeners.forEach(function(e){e()}),this.removableListeners=[],this.closeFromManager(this)},e.prototype.getToNLeave=function(){return{to:this._to,update:this._update,leave:this._leave,close:this.close}},e}();r["default"]=o},{"../utils/ApiEvents":9}],5:[function(t,r,n){Object.defineProperty(n,"__esModule",{value:!0});var o,a=t("./Main"),i=t("./Router/Router");!function(t){var r=function(){function t(){e.Class.SystemMain=a.Main;var t=new i["default"],r={};Object.defineProperty(r,"match",{value:t.match.bind(t),writable:!1,enumerable:!0,configurable:!1}),Object.defineProperty(r,"goTo",{value:t.goTo.bind(t),writable:!1,enumerable:!0,configurable:!1}),NIApi.register("common.Router",r)}return t}();t.SystemTs=r}(o||(o={})),new o.SystemTs},{"./Main":3,"./Router/Router":4}],6:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),e("es6-promise");var n=e("../utils/XHRPromise"),o=e("../utils/XHRPromise"),a=e("./ModuleInternal"),i=e("../utils/ModuleError"),s="js/index.js",u=function(){function e(e,t){this.dataModuleOrig=e,this.modules=t,this._executable=!1,this.dataModule={},this.moduleError=new i.ModuleError,this.setParamName(),this.setParamTextContent(),this.setParamVersion(),this.setParamEnable(),this.setParamParameters(),this.setParamPath(),this.moduleInternal=new a["default"](this.dataModule,this.modules)}return e.prototype.init=function(){var e=this;if(this.moduleError.thereIsErrors()===!0)return this.rejectModule();var t=new Promise(function(t,r){var a=new n["default"](o.Protocol.GET,e.dataModule.path);a.init().then(function(n){e.innerScript=n.responseText,e.safeExecute().then(function(){t()})["catch"](function(t){e.moduleError.thereIsErrors()===!0&&e.rejectModule(),r(t)})})["catch"](function(e){r(e)})});return t},e.prototype.getModuleName=function(){return this.dataModule.name},e.prototype.getNameSpace=function(){return this.moduleInternal.getNameSpace()},e.prototype.rejectModule=function(){return Promise.reject("Error")},e.prototype.safeExecute=function(){var e=this,t=this.moduleInternal.safeExecute(this.innerScript);return t.then(function(){})["catch"](function(t){e.moduleError.add(t,i.MESSAGESERRORS.moduleScriptError,e.dataModuleOrig)}),t},Object.defineProperty(e.prototype,"innerScript",{get:function(){return this._innerScript},set:function(e){try{e=e.trim()}catch(t){e="",this.moduleError.add("...",i.MESSAGESERRORS.moduleEmpty,this.dataModuleOrig)}this._innerScript=e},enumerable:!0,configurable:!0}),e.prototype.setParamName=function(){var e=this.dataModuleOrig.name;try{if(e=e.trim(),!!e==!1)throw"error";this.dataModule.name=e}catch(t){return void this.moduleError.add("...",i.MESSAGESERRORS.name,this.dataModuleOrig)}},e.prototype.setParamTextContent=function(){var e=this.dataModuleOrig.textContent||"";try{e=e.trim()}catch(t){}this.dataModule.textContent=e},e.prototype.setParamEnable=function(){var e=this.dataModuleOrig.enable;try{e=e.trim(),this.dataModule.enable="true"===e}catch(t){this.moduleError.add("...",i.MESSAGESERRORS.enable,this.dataModuleOrig)}},e.prototype.setParamVersion=function(){var e=this.dataModuleOrig.version;try{this.dataModule.version=e.trim()}catch(t){this.moduleError.add("...",i.MESSAGESERRORS.version,this.dataModuleOrig)}},e.prototype.setParamUserAgentFilter=function(){var e=this.dataModuleOrig.userAgentFilter;try{this.dataModule.userAgentFilter=e.trim()}catch(t){this.moduleError.add("...",i.MESSAGESERRORS.userAgentFilter,this.dataModuleOrig)}},e.prototype.setParamPath=function(){var e=this.dataModuleOrig.path;try{e=e.trim(),e.indexOf("/")!==e.length&&(e=e.concat("/")),this.dataModule.path=e.concat(s)}catch(t){this.moduleError.add("...",i.MESSAGESERRORS.path,this.dataModuleOrig)}},e.prototype.setParamParameters=function(){var e,t=this.dataModuleOrig.parameters;try{t=t.trim(),e=new Function("return "+t+"||{};")()}catch(r){return void this.moduleError.add(r,i.MESSAGESERRORS.parameters,this.dataModuleOrig)}if(e=e||{},this.dataModule.parameters={},e instanceof Object)for(var n in e)this.dataModule.parameters[n]=e[n];else;},e}();r["default"]=u},{"../utils/ModuleError":10,"../utils/XHRPromise":12,"./ModuleInternal":7,"es6-promise":1}],7:[function(t,r,n){Object.defineProperty(n,"__esModule",{value:!0}),t("es6-promise");var o=t("../utils/ModuleError"),a=t("../utils/SplitPromise"),i=function(){function t(e,t){this.dataModule=e,this.modules=t,this._exports={},this.onReady=new a["default"],this.moduleError=new o.ModuleError,this.setNameSpace()}return t.prototype.safeExecute=function(e){this.innerScript=e;var t,r;t=this.getNameSpace();try{return r=new Function("nModule",this.innerScript).bind(t)(t),this.onReady.resolve(t),Promise.resolve()}catch(n){return this.onReady.reject(n),Promise.reject(n)}},t.prototype.getNameSpace=function(){return this.nameSpace},Object.defineProperty(t.prototype,"innerScript",{get:function(){return this._innerScript},set:function(e){this._innerScript=e},enumerable:!0,configurable:!0}),t.prototype.require=function(e){},Object.defineProperty(t.prototype,"exports",{get:function(){return this._exports},set:function(e){this._exports=e},enumerable:!0,configurable:!0}),t.prototype.moduleEvent=function(e,t){var r=this.modules[e];if(!r){var n=[];for(var o in this.modules)n.push(o);return Promise.reject('The module "'+e+'" not exist with this name, the current exists modules are : '+n.join(", "))}switch(t){case"ready":return r.onReady()}return r.onReady()},t.prototype.setNameSpace=function(){var t=this,r=this;this.nameSpace={},Object.defineProperty(this.nameSpace,"webpublicationNamespace",{enumerable:!0,configurable:!1,writable:!1,value:webpublicationNamespace||e}),Object.defineProperty(this.nameSpace,"data",{enumerable:!0,configurable:!1,writable:!1,value:this.dataModule}),Object.defineProperty(this.nameSpace,"exports",{enumerable:!0,configurable:!1,get:function(){return r.exports},set:function(e){r.exports=e}}),Object.defineProperty(this.nameSpace,"modules",{enumerable:!0,configurable:!1,writable:!1,value:this.modules}),Object.defineProperty(this.nameSpace,"require",{enumerable:!0,configurable:!1,writable:!1,value:this.require}),Object.defineProperty(this.nameSpace,"onReady",{enumerable:!0,configurable:!1,writable:!1,value:function(){return t.onReady}}),Object.defineProperty(this.nameSpace,"on",{enumerable:!0,configurable:!1,writable:!1,value:function(e,r){return t.moduleEvent(e,r)}})},t}();n["default"]=i},{"../utils/ModuleError":10,"../utils/SplitPromise":11,"es6-promise":1}],8:[function(t,r,n){var o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n["throw"](e))}catch(t){a(t)}}function u(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,s)}u((n=n.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){function r(e){return function(t){return n([e,t])}}function n(r){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,a&&(i=a[2&r[0]?"return":r[0]?"throw":"next"])&&!(i=i.call(a,r[1])).done)return i;switch(a=0,i&&(r=[0,i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,a=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(n){r=[6,n],a=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var o,a,i,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return{next:r(0),"throw":r(1),"return":r(2)}};Object.defineProperty(n,"__esModule",{value:!0}),t("es6-promise");var i=t("./Module"),s=t("../utils/SplitPromise"),u=function(){function t(){this.modules={},this.modulesPrivate={},this.modulesReady={},this.modulesArray=[]}return t.prototype.init=function(){var t=this;this.dataModules=e.Main.xmlManager.get("common-ui","modules");var r=new Promise(function(e,r){t.resolveModules(t.dataModules).then(function(){t.loadModules().then(function(){return e()})["catch"](function(){console.warn("Something wrong with modules!"),r("Something wrong with modules!")})})});return r},Object.defineProperty(t.prototype,"userAgent",{get:function(){return e.Param.userAgent},enumerable:!0,configurable:!0}),t.prototype.resolveValues=function(t){for(var r in t){var n=r;t[n]=e.Utils.resolveVariable(t[n])}return Promise.resolve()},t.prototype.resolveModules=function(e){var t=[];for(var r in e)t.push(this.resolveValues(e[r]));return Promise.all(t)},t.prototype.getParamName=function(e){var t=e.name;return"string"!=typeof t?null:(t=t.trim(),!!t==!1?null:t)},t.prototype.checkUserAgentFilter=function(e){var t=new RegExp(e,"gim"),r=this.userAgent.device.type.match(t);if(null===r){var n=window.location.search;r=n.match(t)}return null===r&&(r=navigator.userAgent.match(t)),r},t.prototype.loadModules=function(){return o(this,void 0,void 0,function(){var e,t,r,n,o,i,u,l,o,i;return a(this,function(a){switch(a.label){case 0:for(e=[],r=this.dataModules.slice(0),o=0,i=this.dataModules.length;o<i;o++)if(n=r[o],u=this.checkUserAgentFilter(n.userAgentFilter),l=this.getParamName(n),null!==u&&"false"!==n.enable){if(null===l||void 0!==this.modulesReady[l])throw'\nyou can use a multiple modules with same name: "'+l+'"\t\t\t\t\t\nonly if the filters gives different result.\t\t\t\t\t\nOr : you can not enable module with name "'+l+'",\t\t\t\t\t\nthere is another module with the same name which is enabled yet!.';this.modulesReady[l]=new s["default"],t=this.preSetModule(n),e.push(t)}o=0,i=this.modulesArray.length,a.label=1;case 1:return o<i?(n=r[o],t=this.loadModule(this.modulesArray[o]),"false"!==n.asynchronous?[3,3]:[4,t]):[3,5];case 2:a.sent(),a.label=3;case 3:e.push(t),a.label=4;case 4:return o++,[3,1];case 5:return[2,Promise.all(e)]}})})},t.prototype.preSetModule=function(e){var t=this,r=new Promise(function(r,n){var o=new i["default"](e,t.modules),a=o.getModuleName();t.modules[a]=o.getNameSpace(),t.modulesArray.push(o),t.modulesPrivate[a]=o,r()});return r},t.prototype.loadModule=function(e){var t=this,r=e.init();return r.then(function(){t.modulesReady[e.getModuleName()].resolve(e.getNameSpace())})["catch"](function(r){t.modulesReady[e.getModuleName()].reject(r)}),r},t}();n["default"]=u},{"../utils/SplitPromise":11,"./Module":6,"es6-promise":1}],9:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(){this.listeners={},this.iName="ApiEvent"}return e.prototype.addListener=function(e,t){"undefined"==typeof this.listeners[e]&&(this.listeners[e]=[]),this.listeners[e].indexOf(t)===-1&&this.listeners[e].push(t)},e.prototype.fire=function(e){var t,r,n=0,o=0;if(e.target||(e.target=this),e.context||(e.context=this),this.listeners[e.type]instanceof Array){t=this.listeners[e.type],r=[];var a=void 0;for(o=t.length;n<o;n++)r.push(t[n]);for(;a=r.shift();)t.indexOf(a)!==-1&&a(e)}},e.prototype.removeListener=function(e,t){var r,n=0,o=0;if(this.listeners[e]instanceof Array)for(r=this.listeners[e],n=r.length;o<n;o++){if(null!==t&&r[o]===t){r.splice(o,1);break}null===t&&r.splice(o,1)}},e}();r.ApiEvents=n},{}],10:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n={name:"module error =>  'name' attribute !,",enable:"module error =>  'enable' attribute !,",parameters:"module error =>  'parameters' attribute !,",path:"module error =>  'path' attribute !,",version:"module error =>  'version' attribute !,",userAgentFilter:"module error =>  'version' attribute !,",moduleEmpty:"module is empty !,",moduleScriptError:"Script error in module !,"};r.MESSAGESERRORS=n;var o=function(){function e(){this._errorStatus=!1,this.errorReasons=[]}return e.prototype.add=function(e,t,r){this.errorStatus=!0,this.errorReasons.push([t,e]),console.warn(r,e)},e.prototype.getMessages=function(){var e="";return this.errorReasons.forEach(function(t){e=e.concat(t.join("\n and \n"))}),e},e.prototype.thereIsErrors=function(){return this.errorStatus},Object.defineProperty(e.prototype,"errorStatus",{get:function(){return this._errorStatus},set:function(e){this._errorStatus=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"errorReasons",{get:function(){return this._errorReasons},set:function(e){this._errorReasons=e},enumerable:!0,configurable:!0}),e}();r.ModuleError=o},{}],11:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),e("es6-promise");var n=function(){function e(){var e=this;this.promise=new Promise(function(t,r){e.resolve=t,e.reject=r});var t=this.promise;this.then=t.then.bind(t),this["catch"]=t["catch"].bind(t)}return e}();r["default"]=n},{"es6-promise":1}],12:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(){}return e}();n.GET="GET",n.get="GET",n.POST="POST",n.post="POST",r.Protocol=n;var o=function(){function e(e,t,r){void 0===e&&(e=n.GET),void 0===t&&(t=""),void 0===r&&(r=null),this.protocol=e,this.url=t,this.data=r,this.xhr=new XMLHttpRequest}return e.prototype.onreadystatechange=function(){if(4===this.xhr.readyState)return 404===this.xhr.status?void this.reject(this):void this.resolve(this.xhr)},e.prototype.executeur=function(e,t){this.resolve=e,this.reject=t,this.xhr.open(this.protocol,this.url,!0),this.xhr.onreadystatechange=this.onreadystatechange.bind(this),this.xhr.send(this.data)},e.prototype.init=function(){return new Promise(this.executeur.bind(this))},e}();r["default"]=o},{}]},{},[5])}(window.webpublicationNamespace||window.w),function(e){var t=function(){e.Param.pathRoot=e.Main.xmlManager.getVariable("root"),e.Param.pathMobile=e.Param.pathRoot+"mobile/",e.Param.pathRootForWorker="../../../",e.Param.pathCss=e.Param.pathMobile+"css/",e.Param.pathIcon=e.Param.pathMobile+"icons/",e.Param.pathImage=e.Param.pathMobile+"img/",e.Param.pathJavaScript=e.Param.pathMobile+"js/",e.Param.pathTemplate=e.Param.pathMobile+"template/",e.Starter.currentPage=0,e.Starter.isMaster=!1,e.Starter.appInfo={},e.Param.eventStart="mousedown",e.Param.eventMove="mousemove",e.Param.eventStop="mouseup",e.Param.eventOut="mouseout",e.Param.eventMouseWheel="mousewheel",e.Param.userAgent.browser.name===e.Param.userAgent.BROWSER.FIREFOX&&(e.Param.eventMouseWheel="DOMMouseScroll"),e.Param.userAgent.os.name!==e.Param.userAgent.OS.ANDROID&&e.Param.userAgent.os.name!==e.Param.userAgent.OS.IOS||!e.Param.isTouch||(e.Param.eventStart="touchstart",e.Param.eventMove="touchmove",e.Param.eventStop="touchend",e.Param.eventOut="touchend"),e.Param.eventClick="click"};t.prototype.callbackLoaded=function(t){return e.Starter.isMaster=!1,e.Starter.main=new e.Class.Main,e.Starter.main.init(),!1},t.prototype.initSlide=function(){function t(){var t=0,r=0;for(var n in o)t+=o[n],r++;var a=t/r;return e.Main.javascriptInit.setPreloaderValue(a),Math.floor(a)>=100&&e.Main.javascriptInit.callbackLoaded(),a}function r(e){if(e.lengthComputable){var r=100*e.loaded/e.total;o[this.url]=r,100!==r&&t()}}function n(e){if(4===this.readyState){if(0===this.status||200===this.status){var r=document.createElement("script");r.type="text/javascript",r.textContent=this.responseText,document.head.appendChild(r)}o[this.url]=100,t()}}var o={},a=e.Main.xmlManager.get("common-ui","assets","custom_javascript");if(a)for(var i=0;i<a.length;i++)a[i]&&a[i].url?o[e.Utils.resolveVariable(a[i].url)]=0:a[i]&&(o[e.Utils.resolveVariable(a[i])]=0);o[e.Param.pathJavaScript+"minall.js"]=0;for(var i in o){var s=new XMLHttpRequest;s.url=i,s.onprogress=r,s.onreadystatechange=n,s.open("GET",i,!0),s.send()}},t.prototype.setPercentageExternal=function(t){e.Main.javascriptInit.setPreloaderValue(t)},t.prototype.getPreloader=function(){var e='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="50px" height="50px" viewBox="0 0 50 50" enable-background="new 0 0 50 50" xml:space="preserve" id="publicationDownloader22_31_163" class="rss-loader-circle" data-background="292929" data-fill="469bd7"><circle class="circlebackground" cx="25" cy="25" fill="none" r="23" stroke="#292929" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"></circle><circle class="circle" cx="25" cy="25" fill="none" r="23" stroke="#292929" stroke-linecap="round" stroke-miterlimit="10" stroke-width="3"></circle></svg>',t=document.createElement("div");t.classList.add("loader-circle"),t.classList.add("loader-circle-left");var r=document.createElement("div");r.classList.add("loader-circle"),r.classList.add("loader-circle-right");var n=document.createElement("div");n.classList.add("loader-wrapper"),n.innerHTML=e;var o=document.createElement("div");o.classList.add("loader-placeholder"),o.innerText="0%";var a=document.createElement("div");a.classList.add("loader"),a.style.display="none",a.appendChild(o),a.appendChild(n);var i=n.querySelector(".circle");document.body.appendChild(a),this.setPreloaderValue=function(e){return e=Math.ceil(e),e=e>100?100:e,i.style.strokeDashoffset=150-150*e/100,o.innerText=e+"%",!1},this.removePreloader=function(e){a.classList.add("animation_fadeOut"),setTimeout(function(){a.parentNode&&a.parentNode.removeChild(a),e&&e()},200)}},e.Class.JavascriptInit=t}(webpublicationNamespace),function(e){function t(t){return i.hasOwnProperty(t)===!1&&(i[t]=new Promise(function(r,n){a(t).then(function(t){e.Utils.promiseXHR("GET",t).then(function(n){r(!0),404!==n.status&&e.Main.cssManager.addLoaded([{url:t,text:n.responseText}])})["catch"](r)})})),i[t]}function r(e){return i.hasOwnProperty(e)===!1&&(i[e]=new Promise(function(t,r){a(e).then(function(e){var r=document.createElement("script");r.src=e,r.onload=t,r.onerror=t,document.head.appendChild(r)})})),i[e]}function n(t){return a(t).then(function(t){return e.Utils.promiseXHR("GET",t)})}var o={css:{},js:{},template:{}},a=function(){function t(e){var t=JSON.parse(e.responseText);for(var r in t.template)t.template[r]&&(o.template["publication/mobile/template/"+r+".html"]=t.template[r]);for(r in t.css)t.css[r]&&(o.css["css/"+r+".css"]=t.css[r]);for(r in t.js)t.js[r]&&(o.js["js/"+r+".js"]=t.js[r]);return Promise.resolve(o)}var r=null;return function(n){if(null===r){var a=e.Main.xmlManager.get("common-ui","assets","custom_template");r=a?e.Utils.promiseXHR("GET",e.Utils.resolveVariable("$template$template.json")).then(t)["catch"](function(){return Promise.resolve({css:{},js:{},template:{}})}):Promise.resolve({css:{},js:{},template:{}})}return r.then(function(){return n=n.replace(/^\.\//,""),n.indexOf(".css")!==-1?n=o.css[n]?o.css[n]:e.Main.xmlManager.getVariable("root")+"mobile/"+n:n.indexOf(".js")!==-1?n=o.js[n]?o.js[n]:e.Main.xmlManager.getVariable("root")+"mobile/"+n:n.indexOf(".html")!==-1&&o.template[n]&&(n=o.template[n]),n=e.Utils.resolveVariable(n),Promise.resolve(n)})}}(),i={};e.require=function(e){if("string"==typeof e)return n(e);for(var o=[],a=0,i=e.length;a<i;a++)0===e[a].indexOf("css/")?o.push(t(e[a]+".css")):0===e[a].indexOf("js/")?o.push(r(e[a]+".js")):e[a].indexOf(".js")!==-1?o.push(r(e[a])):e[a].indexOf(".css")!==-1&&o.push(t(e[a]));return Promise.all(o)},e.addCustomTemplate=function(e,t,r){o[e][t]=r}}(webpublicationNamespace),function(e){e.Main.commonLayout=new e.Class.CommonLayout;var t=e.Utils.resolveVariable(e.Main.xmlManager.get("common-ui","assets","localeHtml").url),r=e.Utils.resolveVariable(e.Main.xmlManager.get("common-ui","assets","localeFlash").url),n=e.Main.xmlManager.get("common-configuration","contents","summary","path"),o=[e.Main.xmlManager.parse("locale",t),e.Main.xmlManager.parse("localeFlash",r),e.Main.xmlManager.parse("summary",n),e.Main.commonLayout.fetch()];if(2!==e.Main.startupManager.get("reader.configurationVersion")){var a=e.Main.xmlManager.get("common-ui","assets","config").url,i=e.Main.xmlManager.get("common-ui","assets","interface").url;o.push(e.Main.xmlManager.parse("config",a)),o.push(e.Main.xmlManager.parse("ui",i))}Promise.all(o).then(function(){var t=e.Utils.resolveVariable(e.Main.xmlManager.get("common-ui","assets","css").url),r=e.Utils.resolveVariable(e.Main.xmlManager.get("common-ui","assets","custom_css"))||[];e.Main.cssManager=new e.Class.CssManager,e.Main.cssManager.init(t).then(function(){return e.Main.cssManager.load(["publication/mobile/css/index.css","publication/mobile/css/autoprefixed.css"])}).then(function(){var t=[].concat(r.map(function(e){
return e.url}));return t.length>0?e.Main.cssManager.load(t):Promise.resolve()}).then(function(){return e.Starter=new e.Class.Starter,e.systemMain=new e.Class.SystemMain,Promise.resolve()}).then(function(t){e.Starter.init()})})}(webpublicationNamespace),function(e){function t(){}t.prototype.init=function(){var t=["epub-HTML","pdf-HTML","pdf-SVG","pdf-PDF","pdf-IMG"],r=e.Main.urlManager.get("pageType");if(e.Param.newViewerVersion="v4"===e.Main.urlManager.get("viewer")||"v4"===e.Main.startupManager.get("core.viewer"),e.Param.newThemeVersion=e.Main.startupManager.has("ui.theme.mode","v4")||"v4"===e.Main.urlManager.get("theme"),e.Param.viewerMode="canvas",["canvas","html"].indexOf(e.Main.urlManager.get("mode"))>=0?e.Param.viewerMode=e.Main.urlManager.get("mode"):e.Main.startupManager.has("core.mode","html")&&(e.Param.viewerMode="html"),e.Param.viewerFormat="img",["img","svg"].indexOf(r)>=0)e.Param.viewerFormat=r;else if(e.Main.startupManager.has("core.format","svg")&&e.Main.xmlManager.get("common-configuration","contents","svg"))e.Param.userAgent.browser.name!==e.Param.userAgent.BROWSER.IE&&(e.Param.viewerFormat="svg");else{var n=t.indexOf(r);if(n!==-1)e.Param.viewerFormat=t[n],e.Param.viewerMode="html";else for(var o=0,a=t.length;o<a;o++)if(e.Main.startupManager.has("core.format",t[o])){e.Param.viewerFormat=t[o],e.Param.viewerMode="html";break}}if(e.Param.overload={},this.globalFileToLoad=6,this.defaultViewportScale=.8,e.Param.viewHtml=document.querySelector("html"),e.Param.devicePixelRatio=window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI,this.metaViewportDefinerF(),"ie"===e.Param.userAgent.browser.name&&10===e.Param.userAgent.browser.version&&navigator.userAgent.match(/IEMobile\/10\.0/)){var i=document.createElement("style");i.appendChild(document.createTextNode("@-ms-viewport{width:auto!important}")),document.getElementsByTagName("head")[0].appendChild(i)}"phone"!==e.Param.userAgent.device.type&&"phablet"!==e.Param.userAgent.device.type&&"tab"!==e.Param.userAgent.device.type&&document.location.search.indexOf("forceMobile")===-1&&document.location.search.indexOf("version=html")===-1&&"html"!==e.Main.startupManager.get("reader.type")&&e.Main.switcher.mobileSupported!==!0||this.currDocReady()},t.prototype.getBestDPIAndroid=function(e){var t=160,r=window.innerWidth,n=384e3*window.devicePixelRatio,o="device-dpi",a=1,i=1;e===!0&&(n*=window.screen.height*window.screen.width/384e3/window.devicePixelRatio);var s=document.createElement("meta");s.setAttribute("name","viewport"),s.setAttribute("content","target-densitydpi=device-dpi,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no"),document.head.appendChild(s);var u=window.innerWidth,l=window.innerHeight,c=u*l,p=t*u/r;return document.head.removeChild(s),c>n&&(a=n/c,i=u/r,o=p*a+"dpi"),{dpi:o,ratio:a,scale:i}},t.prototype.metaViewportDefinerF=function(){var t=null,r=null;return function(){var n=[],o=window.devicePixelRatio;o||(o=window.screen.deviceXDPI/window.screen.logicalXDPI),o=("1"===e.Main.urlManager.get("vp")||e.Param.newViewerVersion,1),"chrome"===e.Param.userAgent.browser.name||"firefox"===e.Param.userAgent.browser.name?"phone"===e.Param.userAgent.device.type?this.defaultViewportScale=1/Math.min(o,2):this.defaultViewportScale=1:"android"===e.Param.userAgent.os.name?(t="phone"===e.Param.userAgent.device.type?this.getBestDPIAndroid():this.getBestDPIAndroid(!0),this.defaultViewportScale=1/Math.round(t.scale),n.push("target-densitydpi="+t.dpi),document.querySelector("html").style.fontSize=13.5*t.scale+"px"):e.Param.userAgent.os.name===e.Param.userAgent.OS.WINDOWS?this.defaultViewportScale=1:this.defaultViewportScale=1/o,n.push("initial-scale="+this.defaultViewportScale),n.push("minimum-scale="+this.defaultViewportScale),n.push("maximum-scale="+this.defaultViewportScale),n.push("user-scalable=no"),r=document.createElement("meta"),r.setAttribute("name","viewport"),r.setAttribute("content",n.join(",")),document.head.appendChild(r)}}(),t.prototype.currDocReadyInitialize=function(){var t=Math.round(10/this.defaultViewportScale)/10;e.Param.valuePixelRatio=t,e.Param.viewHtml.classList.add("webpub-device__type-"+e.Param.userAgent.device.type),e.Param.viewHtml.classList.add("webpub-device__os-name-"+e.Param.userAgent.os.name.toLowerCase()),e.Param.viewHtml.classList.add("webpub-device__browser-name-"+e.Param.userAgent.browser.name.toLowerCase()),e.Param.viewHtml.classList.add("webpub-device__os-version-"+e.Param.userAgent.os.version.replace(".","_")),e.Param.viewHtml.classList.add("webpub-device__pixelratio-"+t.toString().replace(".","-"));var r=document.body.style;""!==r.webkitFlexWrap&&""!==r.msFlexWrap&&""!==r.flexWrap||e.Param.viewHtml.classList.add("webpub-support-flex");for(var n=document.body.getElementsByTagName("script"),o=0;o<n.length;o++)n[o].parentNode.removeChild(n[o]);e.Param.viewMain=document.createElement("div"),e.Param.viewMain.classList.add("mainView");var a;2===e.Main.startupManager.get("reader.configurationVersion")?(a=e.Main.commonLayout.get("general.backgroundImage"),a&&a.url&&(e.Param.viewMain.style.backgroundImage="url("+e.Utils.resolveVariable(a.url)+")","repeat"===a.scale?e.Param.viewMain.style.backgroundRepeat="repeat":"cover"===a.scale&&(e.Param.viewMain.style.backgroundSize="cover"))):(a=e.Main.xmlManager.get("ui","background"),a&&a.image&&(e.Param.viewMain.style.backgroundImage="url("+e.Utils.resolveVariable(a.image)+")","exact"===a.scale?e.Param.viewMain.style.backgroundRepeat="repeat":"outside"===a.scale&&(e.Param.viewMain.style.backgroundSize="cover"))),document.body.insertBefore(e.Param.viewMain,document.querySelector(".loader")),e.Main.javascriptInit.initSlide()},t.prototype.currDocReady=function(){e.Main.javascriptInit=new e.Class.JavascriptInit,e.Main.javascriptInit.getPreloader();var t=e.Main.urlManager.get("waitInitializeFromNative");t||this.currDocReadyInitialize()},t.prototype.getCurrentPage=function(){return e.Main.pagesLoaderNew.getCurrentPage()},e.Class.Starter=t}(webpublicationNamespace);var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){"use strict";function t(){var e=this;this.initialized={},this.initialized.promise=new Promise(function(t,r){e.initialized.resolve=t,e.initialized.reject=r}),this.initialized.then=this.initialized.promise.then.bind(this.initialized.promise)}function r(e,t){for(var n in t)t[n]instanceof Object?(e[n]instanceof Object==!1&&(e[n]={}),r(e[n],t[n])):t[n]instanceof Array?(e[n]instanceof Array==!1&&(e[n]=[]),r(e[n],t[n])):e[n]=t[n]}function n(e,t){r(e,t),r(t,e)}function o(e){Object.defineProperty(t.prototype.styleProperties,e,{enumerable:!0,configurable:!1,get:function(){return document.documentElement.style.getProperty("--"+e)},set:function(t){document.documentElement.style.setProperty("--"+e,t)}})}function a(e,r){return t.prototype.styleProperties[e]=r}function i(){return t.prototype.styleProperties}function s(e){return t.prototype.styleProperties[e]}var u=!1,l={};try{u=!1}catch(c){console.log(c)}t.prototype.globalElements={};var p=t.prototype.globalElements;t.prototype.style={primary:{action2Alpha:"1",action2Color:"#469bd7",actionAlpha:"1",actionColor:"#469bd7",altPopupBackgroundAlpha:"1",altPopupBackgroundColor:"#ffffff",backgroundAlpha:"1",backgroundColor:"#f3f3f3",cardAlpha:"1",cardColor:"#ffffff",contentActionAlpha:"1",contentActionColor:"#7c7c7c",contentAlpha:"1",contentColor:"#8c8c8c",lateralArrowsBackgroundAlpha:"1",lateralArrowsBackgroundColor:"#ffffff",lateralArrowsBackgroundShadowAlpha:"0",lateralArrowsBackgroundShadowColor:"#000000",lateralArrowsColor:"#8c8c8c",lateralArrowsAlpha:"1",lateralArrowsOpacity:"1",spacerAlpha:"1",spacerColor:"#cecece",strongAlpha:"1",strongColor:"#292929",tooltipBackgroundAlpha:"1",tooltipBackgroundColor:"#cecece",tooltipShadowAlpha:"0",tooltipShadowColor:"#000000",tooltipTextAlpha:"1",tooltipTextColor:"#292929",topnavAlpha:"1",topnavColor:"#ffffff",topnavIconAlpha:"1",topnavIconColor:"#469bd7",topnavShadowAlpha:"0",topnavShadowColor:"#000000"},secondary:{activeAlpha:"1",activeColor:"#e7b845",alertAlpha:"1",alertColor:"#f14d4d",altContentAlpha:"1",altContentColor:"#8c8c8c",altPopupAlpha:"1",altPopupColor:"#ffffff",linkAlpha:"0.15",linkBackgroundColor:"#0000ff",linkColor:"#ff0000",notificationAlpha:"1",notificationColor:"#31c531"},pushmenu:{activeAlpha:"1",activeColor:"#469bd7",backgroundAlpha:"1",backgroundColor:"#333333",contentAlpha:"1",contentColor:"#a4a4a4",iconAlpha:"1",iconColor:"#ffffff",spacerAlpha:"1",spacerColor:"#434343",strongAlpha:"1",strongBackgroundAlpha:"1",strongBackgroundColor:"#222222",strongColor:"#696969"},ontouch:{alertAlpha:"1",alertColor:"#f14d4d",backgroundAlpha:"1",backgroundColor:"#333333",cardAlpha:"1",cardColor:"#ffffff",contentAlpha:"1",contentColor:"#8c8c8c",primaryBackgroundAlpha:"1",primaryBackgroundColor:"#ffffff",primaryCardAlpha:"1",primaryCardColor:"#fafafa",primaryContentAlpha:"1",primaryContentColor:"#469bd7",pushmenuBackgroundAlpha:"1",pushmenuBackgroundColor:"#434343",secondaryAlertAlpha:"1",secondaryAlertColor:"#ff7676"},lightbox:{altPopupBackgroundAlpha:"1",altPopupBackgroundColor:"#ffffff",backgroundAlpha:"0.8",backgroundColor:"#f3f3f3",cardAlpha:"1",cardColor:"#ffffff",contentActionAlpha:"1",contentActionColor:"#7c7c7c",contentAlpha:"1",contentColor:"#8c8c8c",spacerAlpha:"1",spacerColor:"#cecece",strongAlpha:"1",strongColor:"#292929",topnavAlpha:"1",topnavColor:"#ffffff",topnavIconAlpha:"1",topnavIconColor:"#469bd7",topnavShadowAlpha:"0",topnavShadowColor:"#000000",actionColor:"#469bd7",actionAlpha:"1"},spread:{backgroundAlpha:"0",backgroundColor:"#ffffff",backgroundShadowColor:"#000000",backgroundShadowAlpha:"0"},loader:{backgroundCircleColor:"#ffffff",foregroundCircleColor:"#000000",contentColor:"#555555"}};var d=t.prototype.style;t.prototype.styleProperties={};var h=new RegExp("color\\(\\s*\\#([0-9a-f]{6})\\s*wpalpha\\(\\s*([0-1]?(\\.[0-9]+)?)\\s*\\)\\s*\\)","gi"),f=function(t,r,n,o,a,i){return e.Utils.hexToRgb(r,n)};t.prototype.init=function(r){return e.Utils.promiseXHR("GET",r).then(function(e){var r=new RegExp("\\.([\\w\\s]+){([^}]+)}","gmi"),n=e.responseText,a=void 0;for(var i in d)for(var s in d[i])l[i+"."+s]=d[i][s];for(;a=r.exec(n);){var c=new RegExp("([\\w\\s]+):([^;]+);","gmi"),p=void 0,h=a[1].trim(),f=a[2].trim();for(d[h]=d[h]||{};p=c.exec(f);){var m=p[1].trim(),v=p[2].trim();d[h][m]=v,l[h+"."+m]=v}}for(var g in d)for(var y in d[g])void 0!==l[d[g][y]]&&(d[g][y]=l[d[g][y]]);if(u===!0){var b=void 0,w=void 0;for(b in d)for(w in d[b])o(b+"-"+w),t.prototype.styleProperties[b+"-"+w]=d[b][w]}this.initialized.resolve()}.bind(this))},t.prototype.parseCss=function(e,t,r){var o=void 0,a=void 0,i=void 0,s="--",l="css-"+t;if(r=r||{},n(d,r),u===!0)for(o in r)for(a in r[o])e=e.replace(new RegExp("var\\("+o+"\\-"+a+"\\)","gi"),"var("+s+o+"-"+a+")");else for(o in r)for(a in r[o])e=e.replace(new RegExp("var\\("+o+"\\-"+a+"\\)","gi"),r[o][a]);e=e.replace(h,f),i=document.getElementById(l)||document.createElement("style"),i.id=l,i.type="text/css",i.styleSheet?i.styleSheet.cssText=e:i.textContent=e,null===i.parentElement&&document.head.appendChild(i)},t.prototype.reParseCss=function(e){for(var r in p)t.prototype.parseCss(p[r].data,p[r].url,e)},t.prototype.addLoaded=function(e){var t=this;e.forEach(function(e){var r="css-"+e.url;p[r]={url:e.url,data:e.text},t.parseCss(e.text,e.url)})},t.prototype.load=function(){var t=function(e,t){if(4===t.readyState&&t.responseText){var r="css-"+e;p[r]={url:e,data:t.responseText},this.parseCss(t.responseText,e)}return Promise.resolve()};return function(r){var n=this;return this.initialized.then(function(){if(null!==r[0]){var o=[];for(var a in r)o.push(e.Utils.promiseXHR("GET",r[a]).then(t.bind(n,r[a])));return Promise.all(o)}})}}(),t.prototype.getStyle=function(e,t){return d[e][t]},e.Class.CssManager=t,u===!0?(NIApi.register("styleSheet.setProperty",a),NIApi.register("styleSheet.getPropertyValue",s),NIApi.register("styleSheet.getProperties",i)):(NIApi.register("styleSheet.reParse",function(e){t.prototype.reParseCss(e)}),NIApi.register("styleSheet.getObject",function(){var e={};return n(e,d),e}))}(webpublicationNamespace),function(e){"use strict";var t={};t.execute=function(e,t){"menu"===e&&"registerClick"===t&&console.log("register click service not working")},e.Service=t}(webpublicationNamespace);